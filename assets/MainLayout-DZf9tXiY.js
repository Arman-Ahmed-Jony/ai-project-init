import{v as $l,a as $t,u as jl,b as Nl,c as Ql,p as jt,d as Kl,r as Nt,s as Wl,Q as Ul,e as Xl,f as Yl,g as je}from"./use-quasar-C_2eNKfl.js";import{s as ce,y as f,F as q,G as Ee,r as O,V as sl,f as Xe,g as we,h as Ve,W as nt,n as be,l as zt,S as kt,X as xe,Y as it,w as H,Z as cl,_ as dl,$ as xt,a0 as fl,a1 as vl,a2 as Gl,J as ut,K as rt,a3 as Jl,i as ml,H as Ce,t as hl,v as gl,u as Zl,x as bl,z as ea,A as yl,B as ta,C as Sl,D as la,a4 as aa,a5 as Qt,a6 as oa,a7 as lt,a8 as na,E as wl,a9 as ia,aa as ua,T as ra,ab as sa,ac as pl,ad as ca,ae as zl,af as Cl,ag as da,ah as fa,ai as Kt,aj as va,ak as Ne,al as ma,p as We,am as ha,an as ga,N as Ct,ao as qe,ap as ba,aq as Vt,ar as qt,as as ya,at as Sa,au as wa,j as ft,m as Qe,av as vt,e as et,aw as pa,ax as mt,ay as Wt,az as za,aA as Ca,M as Ut,aB as at,aC as qa,q as ht,aD as tt,aE as ka,d as xa,aF as Xt,aG as te,aH as Va,o as Yt,b as le,Q as gt,aI as De,a as bt,aJ as Oa,aK as Ta,aL as Aa}from"./index-lvP7fqRP.js";const _a=ce({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:n}){const o=f(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>q("div",{class:o.value},Ee(n.default))}}),Ba=ce({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:n}){const o=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>q("div",{class:o.value,role:"toolbar"},Ee(n.default))}});function Ea(){const e=O(!sl.value);return e.value===!1&&Xe(()=>{e.value=!0}),{isHydrated:e}}const ql=typeof ResizeObserver<"u",Gt=ql===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Ye=ce({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:n}){let o=null,s,l={width:-1,height:-1};function a(v){v===!0||e.debounce===0||e.debounce==="0"?c():o===null&&(o=setTimeout(c,e.debounce))}function c(){if(o!==null&&(clearTimeout(o),o=null),s){const{offsetWidth:v,offsetHeight:g}=s;(v!==l.width||g!==l.height)&&(l={width:v,height:g},n("resize",l))}}const{proxy:i}=we();if(i.trigger=a,ql===!0){let v;const g=u=>{s=i.$el.parentNode,s?(v=new ResizeObserver(a),v.observe(s),c()):u!==!0&&be(()=>{g(!0)})};return Xe(()=>{g()}),Ve(()=>{o!==null&&clearTimeout(o),v!==void 0&&(v.disconnect!==void 0?v.disconnect():s&&v.unobserve(s))}),nt}else{let v=function(){o!==null&&(clearTimeout(o),o=null),m!==void 0&&(m.removeEventListener!==void 0&&m.removeEventListener("resize",a,zt.passive),m=void 0)},g=function(){v(),s?.contentDocument&&(m=s.contentDocument.defaultView,m.addEventListener("resize",a,zt.passive),c())};const{isHydrated:u}=Ea();let m;return Xe(()=>{be(()=>{s=i.$el,s&&g()})}),Ve(v),()=>{if(u.value===!0)return q("object",{class:"q--avoid-card-border",style:Gt.style,tabindex:-1,type:"text/html",data:Gt.url,"aria-hidden":"true",onLoad:g})}}}}),Ma=ce({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:o}){const{proxy:{$q:s}}=we(),l=kt(it,xe);if(l===xe)return console.error("QHeader needs to be child of QLayout"),xe;const a=O(parseInt(e.heightHint,10)),c=O(!0),i=f(()=>e.reveal===!0||l.view.value.indexOf("H")!==-1||s.platform.is.ios&&l.isContainer.value===!0),v=f(()=>{if(e.modelValue!==!0)return 0;if(i.value===!0)return c.value===!0?a.value:0;const x=a.value-l.scroll.value.position;return x>0?x:0}),g=f(()=>e.modelValue!==!0||i.value===!0&&c.value!==!0),u=f(()=>e.modelValue===!0&&g.value===!0&&e.reveal===!0),m=f(()=>"q-header q-layout__section--marginal "+(i.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(g.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),d=f(()=>{const x=l.rows.value.top,A={};return x[0]==="l"&&l.left.space===!0&&(A[s.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),x[2]==="r"&&l.right.space===!0&&(A[s.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),A});function b(x,A){l.update("header",x,A)}function w(x,A){x.value!==A&&(x.value=A)}function D({height:x}){w(a,x),b("size",x)}function _(x){u.value===!0&&w(c,!0),o("focusin",x)}H(()=>e.modelValue,x=>{b("space",x),w(c,!0),l.animate()}),H(v,x=>{b("offset",x)}),H(()=>e.reveal,x=>{x===!1&&w(c,e.modelValue)}),H(c,x=>{l.animate(),o("reveal",x)}),H(l.scroll,x=>{e.reveal===!0&&w(c,x.direction==="up"||x.position<=e.revealOffset||x.position-x.inflectionPoint<100)});const T={};return l.instances.header=T,e.modelValue===!0&&b("size",a.value),b("space",e.modelValue),b("offset",v.value),Ve(()=>{l.instances.header===T&&(l.instances.header=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const x=cl(n.default,[]);return e.elevated===!0&&x.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),x.push(q(Ye,{debounce:0,onResize:D})),q("header",{class:m.value,style:d.value,onFocusin:_},x)}}}),Pa=ce({name:"QField",inheritAttrs:!1,props:{...xt,tag:{type:String,default:"label"}},emits:dl,setup(){return fl(vl({tagProp:!0}))}}),Ia=ce({name:"QItem",props:{...ut,...Gl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:n,emit:o}){const{proxy:{$q:s}}=we(),l=rt(e,s),{hasLink:a,linkAttrs:c,linkClass:i,linkTag:v,navigateOnClick:g}=Jl(),u=O(null),m=O(null),d=f(()=>e.clickable===!0||a.value===!0||e.tag==="label"),b=f(()=>e.disable!==!0&&d.value===!0),w=f(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?i.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(b.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),D=f(()=>e.insetLevel===void 0?null:{["padding"+(s.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function _(A){b.value===!0&&(m.value!==null&&A.qAvoidFocus!==!0&&(A.qKeyEvent!==!0&&document.activeElement===u.value?m.value.focus():document.activeElement===m.value&&u.value.focus()),g(A))}function T(A){if(b.value===!0&&ml(A,[13,32])===!0){Ce(A),A.qKeyEvent=!0;const k=new MouseEvent("click",A);k.qKeyEvent=!0,u.value.dispatchEvent(k)}o("keyup",A)}function x(){const A=cl(n.default,[]);return b.value===!0&&A.unshift(q("div",{class:"q-focus-helper",tabindex:-1,ref:m})),A}return()=>{const A={ref:u,class:w.value,style:D.value,role:"listitem",onClick:_,onKeyup:T};return b.value===!0?(A.tabindex=e.tabindex||"0",Object.assign(A,c.value)):d.value===!0&&(A["aria-disabled"]="true"),q(v.value,A,x())}}}),La=ce({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:n}){const o=f(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>q("div",{class:o.value},Ee(n.default))}}),Fa=ce({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const o=f(()=>parseInt(e.lines,10)),s=f(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),l=f(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>q("div",{style:l.value,class:s.value},Ee(n.default))}}),Ha=ce({name:"QMenu",inheritAttrs:!1,props:{...jl,...bl,...ut,...Zl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:$t},self:{type:String,validator:$t},offset:{type:Array,validator:$l},scrollTarget:gl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...hl,"click","escapeKey"],setup(e,{slots:n,emit:o,attrs:s}){let l=null,a,c,i;const v=we(),{proxy:g}=v,{$q:u}=g,m=O(null),d=O(!1),b=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),w=rt(e,u),{registerTick:D,removeTick:_}=ea(),{registerTimeout:T}=yl(),{transitionProps:x,transitionStyle:A}=ta(e),{localScrollTarget:k,changeScrollEvent:j,unconfigureScrollTarget:F}=Nl(e,M),{anchorEl:R,canShow:ae}=Ql({showing:d}),{hide:K}=Sl({showing:d,canShow:ae,handleShow:ve,handleHide:r,hideOnRouteChange:b,processOnMount:!0}),{showPortal:Y,hidePortal:re,renderPortal:U}=la(v,m,X,"menu"),oe={anchorEl:R,innerRef:m,onClickOutside(y){if(e.persistent!==!0&&d.value===!0)return K(y),(y.type==="touchstart"||y.target.classList.contains("q-dialog__backdrop"))&&Ce(y),!0}},p=f(()=>jt(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),V=f(()=>e.cover===!0?p.value:jt(e.self||"top start",u.lang.rtl)),B=f(()=>(e.square===!0?" q-menu--square":"")+(w.value===!0?" q-menu--dark q-dark":"")),se=f(()=>e.autoClose===!0?{onClick:$}:{}),ne=f(()=>d.value===!0&&e.persistent!==!0);H(ne,y=>{y===!0?(aa(P),Kl(oe)):(Qt(P),Nt(oe))});function J(){sa(()=>{let y=m.value;y&&y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function ve(y){if(l=e.noRefocus===!1?document.activeElement:null,oa(W),Y(),M(),a=void 0,y!==void 0&&(e.touchPosition||e.contextMenu)){const ee=lt(y);if(ee.left!==void 0){const{top:he,left:pe}=R.value.getBoundingClientRect();a={left:ee.left-pe,top:ee.top-he}}}c===void 0&&(c=H(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,E)),e.noFocus!==!0&&document.activeElement.blur(),D(()=>{E(),e.noFocus!==!0&&J()}),T(()=>{u.platform.is.ios===!0&&(i=e.autoClose,m.value.click()),E(),Y(!0),o("show",y)},e.transitionDuration)}function r(y){_(),re(),S(!0),l!==null&&(y===void 0||y.qClickOutside!==!0)&&(((y?.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),T(()=>{re(!0),o("hide",y)},e.transitionDuration)}function S(y){a=void 0,c!==void 0&&(c(),c=void 0),(y===!0||d.value===!0)&&(na(W),F(),Nt(oe),Qt(P)),y!==!0&&(l=null)}function M(){(R.value!==null||e.scrollTarget!==void 0)&&(k.value=wl(R.value,e.scrollTarget),j(k.value,E))}function $(y){i!==!0?(ia(g,y),o("click",y)):i=!1}function W(y){ne.value===!0&&e.noFocus!==!0&&ua(m.value,y.target)!==!0&&J()}function P(y){e.noEscDismiss!==!0&&(o("escapeKey"),K(y))}function E(){Wl({targetEl:m.value,offset:e.offset,anchorEl:R.value,anchorOrigin:p.value,selfOrigin:V.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function X(){return q(ra,x.value,()=>d.value===!0?q("div",{role:"menu",...s,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+B.value,s.class],style:[s.style,A.value],...se.value},Ee(n.default)):null)}return Ve(S),Object.assign(g,{focus:J,updatePosition:E}),U}});let ot=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,ot=e.scrollLeft>=0,e.remove()}const Se=1e3,Da=["start","center","end","start-force","center-force","end-force"],kl=Array.prototype.filter,Ra=window.getComputedStyle(document.body).overflowAnchor===void 0?nt:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];kl.call(o,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const s=o[n];s?.dataset&&(s.dataset.qVsAnchor="")}))};function Re(e,n){return e+n}function yt(e,n,o,s,l,a,c,i){const v=e===window?document.scrollingElement||document.documentElement:e,g=l===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-c-i,scrollMaxSize:0,offsetStart:-c,offsetEnd:-i};if(l===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=v.scrollLeft,u.scrollViewSize+=v.clientWidth),u.scrollMaxSize=v.scrollWidth,a===!0&&(u.scrollStart=(ot===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=v.scrollTop,u.scrollViewSize+=v.clientHeight),u.scrollMaxSize=v.scrollHeight),o!==null)for(let m=o.previousElementSibling;m!==null;m=m.previousElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=m[g]);if(s!==null)for(let m=s.nextElementSibling;m!==null;m=m.nextElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=m[g]);if(n!==e){const m=v.getBoundingClientRect(),d=n.getBoundingClientRect();l===!0?(u.offsetStart+=d.left-m.left,u.offsetEnd-=d.width):(u.offsetStart+=d.top-m.top,u.offsetEnd-=d.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Jt(e,n,o,s){n==="end"&&(n=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(s===!0&&(n=(ot===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):o===!0?(s===!0&&(n=(ot===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function Ke(e,n,o,s){if(o>=s)return 0;const l=n.length,a=Math.floor(o/Se),c=Math.floor((s-1)/Se)+1;let i=e.slice(a,c).reduce(Re,0);return o%Se!==0&&(i-=n.slice(a*Se,o).reduce(Re,0)),s%Se!==0&&s!==l&&(i-=n.slice(s,c*Se).reduce(Re,0)),i}const $a={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Zt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...$a};function ja({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:o,virtualScrollItemSizeComputed:s}){const l=we(),{props:a,emit:c,proxy:i}=l,{$q:v}=i;let g,u,m,d=[],b;const w=O(0),D=O(0),_=O({}),T=O(null),x=O(null),A=O(null),k=O({from:0,to:0}),j=f(()=>a.tableColspan!==void 0?a.tableColspan:100);s===void 0&&(s=f(()=>a.virtualScrollItemSize));const F=f(()=>s.value+";"+a.virtualScrollHorizontal),R=f(()=>F.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);H(R,()=>{B()}),H(F,ae);function ae(){V(u,!0)}function K(r){V(r===void 0?u:r)}function Y(r,S){const M=n();if(M==null||M.nodeType===8)return;const $=yt(M,o(),T.value,x.value,a.virtualScrollHorizontal,v.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);m!==$.scrollViewSize&&B($.scrollViewSize),U(M,$,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,Da.indexOf(S)!==-1?S:u!==-1&&r>u?"end":"start")}function re(){const r=n();if(r==null||r.nodeType===8)return;const S=yt(r,o(),T.value,x.value,a.virtualScrollHorizontal,v.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),M=e.value-1,$=S.scrollMaxSize-S.offsetStart-S.offsetEnd-D.value;if(g===S.scrollStart)return;if(S.scrollMaxSize<=0){U(r,S,0,0);return}m!==S.scrollViewSize&&B(S.scrollViewSize),oe(k.value.from);const W=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(b[M],S.scrollViewSize/2));if(W>0&&Math.ceil(S.scrollStart)>=W){U(r,S,M,S.scrollMaxSize-S.offsetEnd-d.reduce(Re,0));return}let P=0,E=S.scrollStart-S.offsetStart,X=E;if(E<=$&&E+S.scrollViewSize>=w.value)E-=w.value,P=k.value.from,X=E;else for(let y=0;E>=d[y]&&P<M;y++)E-=d[y],P+=Se;for(;E>0&&P<M;)E-=b[P],E>-S.scrollViewSize?(P++,X=E):X=b[P]+E;U(r,S,P,X)}function U(r,S,M,$,W){const P=typeof W=="string"&&W.indexOf("-force")!==-1,E=P===!0?W.replace("-force",""):W,X=E!==void 0?E:"start";let y=Math.max(0,M-_.value[X]),ee=y+_.value.total;ee>e.value&&(ee=e.value,y=Math.max(0,ee-_.value.total)),g=S.scrollStart;const he=y!==k.value.from||ee!==k.value.to;if(he===!1&&E===void 0){ne(M);return}const{activeElement:pe}=document,G=A.value;he===!0&&G!==null&&G!==pe&&G.contains(pe)===!0&&(G.addEventListener("focusout",p),setTimeout(()=>{G?.removeEventListener("focusout",p)})),Ra(G,M-y);const me=E!==void 0?b.slice(y,M).reduce(Re,0):0;if(he===!0){const ye=ee>=k.value.from&&y<=k.value.to?k.value.to:ee;k.value={from:y,to:ye},w.value=Ke(d,b,0,y),D.value=Ke(d,b,ee,e.value),requestAnimationFrame(()=>{k.value.to!==ee&&g===S.scrollStart&&(k.value={from:k.value.from,to:ee},D.value=Ke(d,b,ee,e.value))})}requestAnimationFrame(()=>{if(g!==S.scrollStart)return;he===!0&&oe(y);const ye=b.slice(y,M).reduce(Re,0),ze=ye+S.offsetStart+w.value,Me=ze+b[M];let Oe=ze+$;if(E!==void 0){const Te=ye-me,fe=S.scrollStart+Te;Oe=P!==!0&&fe<ze&&Me<fe+S.scrollViewSize?fe:E==="end"?Me-S.scrollViewSize:ze-(E==="start"?0:Math.round((S.scrollViewSize-b[M])/2))}g=Oe,Jt(r,Oe,a.virtualScrollHorizontal,v.lang.rtl),ne(M)})}function oe(r){const S=A.value;if(S){const M=kl.call(S.children,y=>y.classList&&y.classList.contains("q-virtual-scroll--skip")===!1),$=M.length,W=a.virtualScrollHorizontal===!0?y=>y.getBoundingClientRect().width:y=>y.offsetHeight;let P=r,E,X;for(let y=0;y<$;){for(E=W(M[y]),y++;y<$&&M[y].classList.contains("q-virtual-scroll--with-prev")===!0;)E+=W(M[y]),y++;X=E-b[P],X!==0&&(b[P]+=X,d[Math.floor(P/Se)]+=X),P++}}}function p(){A.value?.focus()}function V(r,S){const M=1*s.value;(S===!0||Array.isArray(b)===!1)&&(b=[]);const $=b.length;b.length=e.value;for(let P=e.value-1;P>=$;P--)b[P]=M;const W=Math.floor((e.value-1)/Se);d=[];for(let P=0;P<=W;P++){let E=0;const X=Math.min((P+1)*Se,e.value);for(let y=P*Se;y<X;y++)E+=b[y];d.push(E)}u=-1,g=void 0,w.value=Ke(d,b,0,k.value.from),D.value=Ke(d,b,k.value.to,e.value),r>=0?(oe(k.value.from),be(()=>{Y(r)})):J()}function B(r){if(r===void 0&&typeof window<"u"){const E=n();E!=null&&E.nodeType!==8&&(r=yt(E,o(),T.value,x.value,a.virtualScrollHorizontal,v.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}m=r;const S=parseFloat(a.virtualScrollSliceRatioBefore)||0,M=parseFloat(a.virtualScrollSliceRatioAfter)||0,$=1+S+M,W=r===void 0||r<=0?1:Math.ceil(r/s.value),P=Math.max(1,W,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/$));_.value={total:Math.ceil(P*$),start:Math.ceil(P*S),center:Math.ceil(P*(.5+S)),end:Math.ceil(P*(1+S)),view:W}}function se(r,S){const M=a.virtualScrollHorizontal===!0?"width":"height",$={["--q-virtual-scroll-item-"+M]:s.value+"px"};return[r==="tbody"?q(r,{class:"q-virtual-scroll__padding",key:"before",ref:T},[q("tr",[q("td",{style:{[M]:`${w.value}px`,...$},colspan:j.value})])]):q(r,{class:"q-virtual-scroll__padding",key:"before",ref:T,style:{[M]:`${w.value}px`,...$}}),q(r,{class:"q-virtual-scroll__content",key:"content",ref:A,tabindex:-1},S.flat()),r==="tbody"?q(r,{class:"q-virtual-scroll__padding",key:"after",ref:x},[q("tr",[q("td",{style:{[M]:`${D.value}px`,...$},colspan:j.value})])]):q(r,{class:"q-virtual-scroll__padding",key:"after",ref:x,style:{[M]:`${D.value}px`,...$}})]}function ne(r){u!==r&&(a.onVirtualScroll!==void 0&&c("virtualScroll",{index:r,from:k.value.from,to:k.value.to-1,direction:r<u?"decrease":"increase",ref:i}),u=r)}B();const J=pl(re,v.platform.is.ios===!0?120:35);ca(()=>{B()});let ve=!1;return zl(()=>{ve=!0}),Cl(()=>{if(ve!==!0)return;const r=n();g!==void 0&&r!==void 0&&r!==null&&r.nodeType!==8?Jt(r,g,a.virtualScrollHorizontal,v.lang.rtl):Y(u)}),Ve(()=>{J.cancel()}),Object.assign(i,{scrollTo:Y,reset:ae,refresh:K}),{virtualScrollSliceRange:k,virtualScrollSliceSizeComputed:_,setVirtualScrollSize:B,onVirtualScrollEvt:J,localResetVirtualScroll:V,padVirtualScroll:se,scrollTo:Y,reset:ae,refresh:K}}function ke(e,n,o){return o<=n?n:Math.min(o,Math.max(n,e))}function el(e,n,o){if(o<=n)return n;const s=o-n+1;let l=n+(e-n)%s;return l<n&&(l=s+l),l===0?0:l}const tl=e=>["add","add-unique","toggle"].includes(e),Na=".*+?^${}()|[]\\",Qa=Object.keys(xt);function St(e,n){if(typeof e=="function")return e;const o=e!==void 0?e:n;return s=>s!==null&&typeof s=="object"&&o in s?s[o]:s}const Ka=ce({name:"QSelect",inheritAttrs:!1,props:{...Zt,...da,...xt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:tl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Zt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...dl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:n,emit:o}){const{proxy:s}=we(),{$q:l}=s,a=O(!1),c=O(!1),i=O(-1),v=O(""),g=O(!1),u=O(!1);let m=null,d=null,b,w,D,_=null,T,x,A,k;const j=O(null),F=O(null),R=O(null),ae=O(null),K=O(null),Y=fa(e),re=va(Lt),U=f(()=>Array.isArray(e.options)?e.options.length:0),oe=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:p,virtualScrollSliceSizeComputed:V,localResetVirtualScroll:B,padVirtualScroll:se,onVirtualScrollEvt:ne,scrollTo:J,setVirtualScrollSize:ve}=ja({virtualScrollLength:U,getVirtualScrollTarget:Tl,getVirtualScrollEl:Pt,virtualScrollItemSizeComputed:oe}),r=vl(),S=f(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,z=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const C=e.mapOptions===!0&&b!==void 0?b:[],L=z.map(Q=>Ol(Q,C));return e.modelValue===null&&t===!0?L.filter(Q=>Q!==null):L}return z}),M=f(()=>{const t={};return Qa.forEach(z=>{const C=e[z];C!==void 0&&(t[z]=C)}),t}),$=f(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),W=f(()=>Kt(S.value)),P=f(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||S.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),E=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=f(()=>U.value===0),y=f(()=>S.value.map(t=>ie.value(t)).join(", ")),ee=f(()=>e.displayValue!==void 0?e.displayValue:y.value),he=f(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),pe=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||S.value.some(he.value))),G=f(()=>r.focused.value===!0?e.tabindex:-1),me=f(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return i.value>=0&&(t["aria-activedescendant"]=`${r.targetUid.value}_${i.value}`),t}),ye=f(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ze=f(()=>S.value.map((t,z)=>({index:z,opt:t,html:he.value(t),selected:!0,removeAtIndex:Vl,toggleOption:_e,tabindex:G.value}))),Me=f(()=>{if(U.value===0)return[];const{from:t,to:z}=p.value;return e.options.slice(t,z).map((C,L)=>{const Q=h.value(C)===!0,N=st(C)===!0,ue=t+L,Z={clickable:!0,active:N,activeClass:fe.value,manualFocus:!0,focused:!1,disable:Q,tabindex:-1,dense:e.optionsDense,dark:$.value,role:"option","aria-selected":N===!0?"true":"false",id:`${r.targetUid.value}_${ue}`,onClick:()=>{_e(C)}};return Q!==!0&&(i.value===ue&&(Z.focused=!0),l.platform.is.desktop===!0&&(Z.onMousemove=()=>{a.value===!0&&Pe(ue)})),{index:ue,opt:C,html:he.value(C),label:ie.value(C),selected:Z.active,focused:Z.focused,toggleOption:_e,setOptionIndex:Pe,itemProps:Z}})}),Oe=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),Te=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),fe=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ge=f(()=>St(e.optionValue,"value")),ie=f(()=>St(e.optionLabel,"label")),h=f(()=>St(e.optionDisable,"disable")),I=f(()=>S.value.map(ge.value)),de=f(()=>{const t={onInput:Lt,onChange:re,onKeydown:Mt,onKeyup:Bt,onKeypress:Et,onFocus:At,onClick(z){w===!0&&qe(z)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=re,t});H(S,t=>{b=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(c.value!==!0&&a.value!==!0||W.value!==!0)&&(D!==!0&&He(),(c.value===!0||a.value===!0)&&Ie(""))},{immediate:!0}),H(()=>e.fillInput,He),H(a,ct),H(U,Rl);function Ae(t){return e.emitValue===!0?ge.value(t):t}function Ge(t){if(t!==-1&&t<S.value.length)if(e.multiple===!0){const z=e.modelValue.slice();o("remove",{index:t,value:z.splice(t,1)[0]}),o("update:modelValue",z)}else o("update:modelValue",null)}function Vl(t){Ge(t),r.focus()}function Tt(t,z){const C=Ae(t);if(e.multiple!==!0){e.fillInput===!0&&$e(ie.value(t),!0,!0),o("update:modelValue",C);return}if(S.value.length===0){o("add",{index:0,value:C}),o("update:modelValue",e.multiple===!0?[C]:C);return}if(z===!0&&st(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();o("add",{index:L.length,value:C}),L.push(C),o("update:modelValue",L)}function _e(t,z){if(r.editable.value!==!0||t===void 0||h.value(t)===!0)return;const C=ge.value(t);if(e.multiple!==!0){z!==!0&&($e(e.fillInput===!0?ie.value(t):"",!0,!0),Be()),F.value?.focus(),(S.value.length===0||Ne(ge.value(S.value[0]),C)!==!0)&&o("update:modelValue",e.emitValue===!0?C:t);return}if((w!==!0||g.value===!0)&&r.focus(),At(),S.value.length===0){const N=e.emitValue===!0?C:t;o("add",{index:0,value:N}),o("update:modelValue",e.multiple===!0?[N]:N);return}const L=e.modelValue.slice(),Q=I.value.findIndex(N=>Ne(N,C));if(Q!==-1)o("remove",{index:Q,value:L.splice(Q,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const N=e.emitValue===!0?C:t;o("add",{index:L.length,value:N}),L.push(N)}o("update:modelValue",L)}function Pe(t){if(l.platform.is.desktop!==!0)return;const z=t!==-1&&t<U.value?t:-1;i.value!==z&&(i.value=z)}function Je(t=1,z){if(a.value===!0){let C=i.value;do C=el(C+t,-1,U.value-1);while(C!==-1&&C!==i.value&&h.value(e.options[C])===!0);i.value!==C&&(Pe(C),J(C),z!==!0&&e.useInput===!0&&e.fillInput===!0&&Ze(C>=0?ie.value(e.options[C]):T,!0))}}function Ol(t,z){const C=L=>Ne(ge.value(L),t);return e.options.find(C)||z.find(C)||t}function st(t){const z=ge.value(t);return I.value.find(C=>Ne(C,z))!==void 0}function At(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===y.value)&&F.value.select()}function _t(t){ml(t,27)===!0&&a.value===!0&&(qe(t),Be(),He()),o("keyup",t)}function Bt(t){const{value:z}=t.target;if(t.keyCode!==void 0){_t(t);return}if(t.target.value="",m!==null&&(clearTimeout(m),m=null),d!==null&&(clearTimeout(d),d=null),He(),typeof z=="string"&&z.length!==0){const C=z.toLocaleLowerCase(),L=N=>{const ue=e.options.find(Z=>String(N.value(Z)).toLocaleLowerCase()===C);return ue===void 0?!1:(S.value.indexOf(ue)===-1?_e(ue):Be(),!0)},Q=N=>{L(ge)!==!0&&N!==!0&&L(ie)!==!0&&Ie(z,!0,()=>Q(!0))};Q()}else r.clearValue(t)}function Et(t){o("keypress",t)}function Mt(t){if(o("keydown",t),ma(t)===!0)return;const z=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),C=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(i.value!==-1||z===!0);if(t.keyCode===27){We(t);return}if(t.keyCode===9&&C===!1){Le();return}if(t.target===void 0||t.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(t.keyCode===40&&r.innerLoading.value!==!0&&a.value===!1){Ce(t),Fe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ge(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(Ce(t),i.value=-1,Je(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&V.value!==void 0&&(Ce(t),i.value=Math.max(-1,Math.min(U.value,i.value+(t.keyCode===33?-1:1)*V.value.view)),Je(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ce(t),Je(t.keyCode===38?-1:1,e.multiple));const L=U.value;if((A===void 0||k<Date.now())&&(A=""),L>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||A.length!==0)){a.value!==!0&&Fe(t);const Q=t.key.toLocaleLowerCase(),N=A.length===1&&A[0]===Q;k=Date.now()+1500,N===!1&&(Ce(t),A+=Q);const ue=new RegExp("^"+A.split("").map(dt=>Na.indexOf(dt)!==-1?"\\"+dt:dt).join(".*"),"i");let Z=i.value;if(N===!0||Z<0||ue.test(ie.value(e.options[Z]))!==!0)do Z=el(Z+1,-1,L-1);while(Z!==i.value&&(h.value(e.options[Z])===!0||ue.test(ie.value(e.options[Z]))!==!0));i.value!==Z&&be(()=>{Pe(Z),J(Z),Z>=0&&e.useInput===!0&&e.fillInput===!0&&Ze(ie.value(e.options[Z]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||A!=="")&&(t.keyCode!==9||C===!1))){if(t.keyCode!==9&&Ce(t),i.value!==-1&&i.value<L){_e(e.options[i.value]);return}if(z===!0){const Q=(N,ue)=>{if(ue){if(tl(ue)!==!0)return}else ue=e.newValueMode;if($e("",e.multiple!==!0,!0),N==null)return;(ue==="toggle"?_e:Tt)(N,ue==="add-unique"),e.multiple!==!0&&(F.value?.focus(),Be())};if(e.onNewValue!==void 0?o("newValue",v.value,Q):Q(v.value),e.multiple!==!0)return}a.value===!0?Le():r.innerLoading.value!==!0&&Fe()}}function Pt(){return w===!0?K.value:R.value!==null&&R.value.contentEl!==null?R.value.contentEl:void 0}function Tl(){return Pt()}function Al(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?ze.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?ze.value.map((t,z)=>q(Ul,{key:"option-"+z,removable:r.editable.value===!0&&h.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(z)}},()=>q("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ie.value(t.opt)}))):[q("span",{class:"ellipsis",[pe.value===!0?"innerHTML":"textContent"]:ee.value})]}function It(){if(X.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:v.value}):void 0;const t=n.option!==void 0?n.option:C=>q(Ia,{key:C.index,...C.itemProps},()=>q(La,()=>q(Fa,()=>q("span",{[C.html===!0?"innerHTML":"textContent"]:C.label}))));let z=se("div",Me.value.map(t));return n["before-options"]!==void 0&&(z=n["before-options"]().concat(z)),Vt(n["after-options"],z)}function _l(t,z){const C=z===!0?{...me.value,...r.splitAttrs.attributes.value}:void 0,L={ref:z===!0?F:void 0,key:"i_t",class:P.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...C,id:z===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...de.value};return t!==!0&&w===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),q("input",L)}function Lt(t){m!==null&&(clearTimeout(m),m=null),d!==null&&(clearTimeout(d),d=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ze(t.target.value||""),D=!0,T=v.value,r.focused.value!==!0&&(w!==!0||g.value===!0)&&r.focus(),e.onFilter!==void 0&&(m=setTimeout(()=>{m=null,Ie(v.value)},e.inputDebounce)))}function Ze(t,z){v.value!==t&&(v.value=t,z===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):d=setTimeout(()=>{d=null,o("inputValue",t)},e.inputDebounce))}function $e(t,z,C){D=C!==!0,e.useInput===!0&&(Ze(t,!0),(z===!0||C!==!0)&&(T=t),z!==!0&&Ie(t))}function Ie(t,z,C){if(e.onFilter===void 0||z!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?o("filterAbort"):(r.innerLoading.value=!0,u.value=!0),t!==""&&e.multiple!==!0&&S.value.length!==0&&D!==!0&&t===ie.value(S.value[0])&&(t="");const L=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);_!==null&&clearTimeout(_),_=L,o("filter",t,(Q,N)=>{(z===!0||r.focused.value===!0)&&_===L&&(clearTimeout(_),typeof Q=="function"&&Q(),u.value=!1,be(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(z===!0?a.value===!0&&Be():a.value===!0?ct(!0):a.value=!0),typeof N=="function"&&be(()=>{N(s)}),typeof C=="function"&&be(()=>{C(s)})}))},()=>{r.focused.value===!0&&_===L&&(clearTimeout(_),r.innerLoading.value=!1,u.value=!1),a.value===!0&&(a.value=!1)})}function Bl(){return q(Ha,{ref:R,class:E.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:$.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Te.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ye.value,onScrollPassive:ne,onBeforeShow:Ht,onBeforeHide:El,onShow:Ml},It)}function El(t){Dt(t),Le()}function Ml(){ve()}function Pl(t){qe(t),F.value?.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Il(t){qe(t),be(()=>{g.value=!1})}function Ll(){const t=[q(Pa,{class:`col-auto ${r.fieldClass.value}`,...M.value,for:r.targetUid.value,dark:$.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...r.splitAttrs.listeners.value,onFocus:Pl,onBlur:Il},{...n,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(q("div",{ref:K,class:E.value+" scroll",style:e.popupContentStyle,...ye.value,onClick:We,onScrollPassive:ne},It())),q(ba,{ref:ae,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:x,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ht,onBeforeHide:Fl,onHide:Hl,onShow:Dl},()=>q("div",{class:"q-select__dialog"+($.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function Fl(t){Dt(t),ae.value!==null&&ae.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function Hl(t){Be(),r.focused.value===!1&&o("blur",t),He()}function Dl(){const t=document.activeElement;(t===null||t.id!==r.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),ve()}function Le(){c.value!==!0&&(i.value=-1,a.value===!0&&(a.value=!1),r.focused.value===!1&&(_!==null&&(clearTimeout(_),_=null),r.innerLoading.value===!0&&(o("filterAbort"),r.innerLoading.value=!1,u.value=!1)))}function Fe(t){r.editable.value===!0&&(w===!0?(r.onControlFocusin(t),c.value=!0,be(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?Ie(v.value):(X.value!==!0||n["no-option"]!==void 0)&&(a.value=!0))}function Be(){c.value=!1,Le()}function He(){e.useInput===!0&&$e(e.multiple!==!0&&e.fillInput===!0&&S.value.length!==0&&ie.value(S.value[0])||"",!0,!0)}function ct(t){let z=-1;if(t===!0){if(S.value.length!==0){const C=ge.value(S.value[0]);z=e.options.findIndex(L=>Ne(ge.value(L),C))}B(z)}Pe(z)}function Rl(t,z){a.value===!0&&r.innerLoading.value===!1&&(B(-1,!0),be(()=>{a.value===!0&&r.innerLoading.value===!1&&(t>z?B():ct(!0))}))}function Ft(){c.value===!1&&R.value!==null&&R.value.updatePosition()}function Ht(t){t!==void 0&&qe(t),o("popupShow",t),r.hasPopupOpen=!0,r.onControlFocusin(t)}function Dt(t){t!==void 0&&qe(t),o("popupHide",t),r.hasPopupOpen=!1,r.onControlFocusout(t)}function Rt(){w=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),x=l.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return ha(Rt),ga(Ft),Rt(),Ve(()=>{m!==null&&clearTimeout(m),d!==null&&clearTimeout(d)}),Object.assign(s,{showPopup:Fe,hidePopup:Be,removeAtIndex:Ge,add:Tt,toggleOption:_e,getOptionIndex:()=>i.value,setOptionIndex:Pe,moveOptionSelection:Je,filter:Ie,updateMenuPosition:Ft,updateInputValue:$e,isOptionSelected:st,getEmittingOptionValue:Ae,isOptionDisabled:(...t)=>h.value.apply(null,t)===!0,getOptionValue:(...t)=>ge.value.apply(null,t),getOptionLabel:(...t)=>ie.value.apply(null,t)}),Object.assign(r,{innerValue:S,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:j,targetRef:F,hasValue:W,showPopup:Fe,floatingLabel:f(()=>e.hideSelected!==!0&&W.value===!0||typeof v.value=="number"||v.value.length!==0||Kt(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(c.value===!0||X.value!==!0||n["no-option"]!==void 0))return w===!0?Ll():Bl();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(t){r.onControlFocusin(t)},onFocusout(t){r.onControlFocusout(t,()=>{He(),Le()})},onClick(t){if(We(t),w!==!0&&a.value===!0){Le(),F.value?.focus();return}Fe(t)}},getControl:t=>{const z=Al(),C=t===!0||c.value!==!0||w!==!0;if(e.useInput===!0)z.push(_l(t,C));else if(r.editable.value===!0){const Q=C===!0?me.value:void 0;z.push(q("input",{ref:C===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:C===!0?r.targetUid.value:void 0,value:ee.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Q,onKeydown:Mt,onKeyup:_t,onKeypress:Et})),C===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&z.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Bt}))}if(Y.value!==void 0&&e.disable!==!0&&I.value.length!==0){const Q=I.value.map(N=>q("option",{value:N,selected:!0}));z.push(q("select",{class:"hidden",name:Y.value,multiple:e.multiple},Q))}const L=e.useInput===!0||C!==!0?void 0:r.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...L,...r.splitAttrs.listeners.value},z)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[q(Ct,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Oe.value})]:null}),fl(r)}}),Wa=ce({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[q("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),q("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),qt(q("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),qt(q("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:ll}=zt,Ua=["both","horizontal","vertical"],xl=ce({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Ua.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:gl},emits:["scroll"],setup(e,{emit:n}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let s=null,l,a;H(()=>e.scrollTarget,()=>{v(),i()});function c(){s?.();const m=Math.max(0,ya(l)),d=Sa(l),b={top:m-o.position.top,left:d-o.position.left};if(e.axis==="vertical"&&b.top===0||e.axis==="horizontal"&&b.left===0)return;const w=Math.abs(b.top)>=Math.abs(b.left)?b.top<0?"up":"down":b.left<0?"left":"right";o.position={top:m,left:d},o.directionChanged=o.direction!==w,o.delta=b,o.directionChanged===!0&&(o.direction=w,o.inflectionPoint=o.position),n("scroll",{...o})}function i(){l=wl(a,e.scrollTarget),l.addEventListener("scroll",g,ll),g(!0)}function v(){l!==void 0&&(l.removeEventListener("scroll",g,ll),l=void 0)}function g(m){if(m===!0||e.debounce===0||e.debounce==="0")c();else if(s===null){const[d,b]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];s=()=>{b(d),s=null}}}const{proxy:u}=we();return H(()=>u.$q.lang.rtl,c),Xe(()=>{a=u.$el.parentNode,i()}),Ve(()=>{s?.(),v()}),Object.assign(u,{trigger:g,getPosition:()=>o}),nt}}),Ot={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Xa=Object.keys(Ot);Ot.all=!0;function al(e){const n={};for(const o of Xa)e[o]===!0&&(n[o]=!0);return Object.keys(n).length===0?Ot:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const Ya=["INPUT","TEXTAREA"];function ol(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&Ya.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function wt(e,n,o){const s=lt(e);let l,a=s.left-n.event.x,c=s.top-n.event.y,i=Math.abs(a),v=Math.abs(c);const g=n.direction;g.horizontal===!0&&g.vertical!==!0?l=a<0?"left":"right":g.horizontal!==!0&&g.vertical===!0?l=c<0?"up":"down":g.up===!0&&c<0?(l="up",i>v&&(g.left===!0&&a<0?l="left":g.right===!0&&a>0&&(l="right"))):g.down===!0&&c>0?(l="down",i>v&&(g.left===!0&&a<0?l="left":g.right===!0&&a>0&&(l="right"))):g.left===!0&&a<0?(l="left",i<v&&(g.up===!0&&c<0?l="up":g.down===!0&&c>0&&(l="down"))):g.right===!0&&a>0&&(l="right",i<v&&(g.up===!0&&c<0?l="up":g.down===!0&&c>0&&(l="down")));let u=!1;if(l===void 0&&o===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};l=n.event.lastDir,u=!0,l==="left"||l==="right"?(s.left-=a,i=0,a=0):(s.top-=c,v=0,c=0)}return{synthetic:u,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:s,direction:l,isFirst:n.event.isFirst,isFinal:o===!0,duration:Date.now()-n.event.time,distance:{x:i,y:v},offset:{x:a,y:c},delta:{x:s.left-n.event.lastX,y:s.top-n.event.lastY}}}}let Ga=0;const Ue=wa({name:"touch-pan",beforeMount(e,{value:n,modifiers:o}){if(o.mouse!==!0&&Qe.has.touch!==!0)return;function s(a,c){o.mouse===!0&&c===!0?Ce(a):(o.stop===!0&&qe(a),o.prevent===!0&&We(a))}const l={uid:"qvtp_"+Ga++,handler:n,modifiers:o,direction:al(o),noop:nt,mouseStart(a){ol(a,l)&&pa(a)&&(et(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(a,!0))},touchStart(a){if(ol(a,l)){const c=a.target;et(l,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","passiveCapture"],[c,"touchend","end","passiveCapture"]]),l.start(a)}},start(a,c){if(Qe.is.firefox===!0&&vt(e,!0),l.lastEvt=a,c===!0||o.stop===!0){if(l.direction.all!==!0&&(c!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const g=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&We(g),a.cancelBubble===!0&&qe(g),Object.assign(g,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[l.uid]:a.qClonedBy.concat(l.uid)}),l.initialEvent={target:a.target,event:g}}qe(a)}const{left:i,top:v}=lt(a);l.event={x:i,y:v,time:Date.now(),mouse:c===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:i,lastY:v}},move(a){if(l.event===void 0)return;const c=lt(a),i=c.left-l.event.x,v=c.top-l.event.y;if(i===0&&v===0)return;l.lastEvt=a;const g=l.event.mouse===!0,u=()=>{s(a,g);let b;o.preserveCursor!==!0&&o.preservecursor!==!0&&(b=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),g===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Xl(),l.styleCleanup=w=>{if(l.styleCleanup=void 0,b!==void 0&&(document.documentElement.style.cursor=b),document.body.classList.remove("non-selectable"),g===!0){const D=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{D(),w()},50):D()}else w!==void 0&&w()}};if(l.event.detected===!0){l.event.isFirst!==!0&&s(a,l.event.mouse);const{payload:b,synthetic:w}=wt(a,l,!1);b!==void 0&&(l.handler(b)===!1?l.end(a):(l.styleCleanup===void 0&&l.event.isFirst===!0&&u(),l.event.lastX=b.position.left,l.event.lastY=b.position.top,l.event.lastDir=w===!0?void 0:b.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||g===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){u(),l.event.detected=!0,l.move(a);return}const m=Math.abs(i),d=Math.abs(v);m!==d&&(l.direction.horizontal===!0&&m>d||l.direction.vertical===!0&&m<d||l.direction.up===!0&&m<d&&v<0||l.direction.down===!0&&m<d&&v>0||l.direction.left===!0&&m>d&&i<0||l.direction.right===!0&&m>d&&i>0?(l.event.detected=!0,l.move(a)):l.end(a,!0))},end(a,c){if(l.event!==void 0){if(ft(l,"temp"),Qe.is.firefox===!0&&vt(e,!1),c===!0)l.styleCleanup?.(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(wt(a===void 0?l.lastEvt:a,l).payload);const{payload:i}=wt(a===void 0?l.lastEvt:a,l,!0),v=()=>{l.handler(i)};l.styleCleanup!==void 0?l.styleCleanup(v):v()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,o.mouse===!0){const a=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";et(l,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}Qe.has.touch===!0&&et(l,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const o=e.__qtouchpan;o!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&o.end(),o.handler=n.value),o.direction=al(n.modifiers))},beforeUnmount(e){const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),ft(n,"main"),ft(n,"temp"),Qe.is.firefox===!0&&vt(e,!1),n.styleCleanup?.(),delete e.__qtouchpan)}}),nl=["vertical","horizontal"],pt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},il={prevent:!0,mouse:!0,mouseAllDir:!0},ul=e=>e>=250?50:Math.ceil(e/5),Ja=ce({name:"QScrollArea",props:{...ut,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:n,emit:o}){const s=O(!1),l=O(!1),a=O(!1),c={vertical:O(0),horizontal:O(0)},i={vertical:{ref:O(null),position:O(0),size:O(0)},horizontal:{ref:O(null),position:O(0),size:O(0)}},{proxy:v}=we(),g=rt(e,v.$q);let u=null,m;const d=O(null),b=f(()=>"q-scrollarea"+(g.value===!0?" q-scrollarea--dark":""));Object.assign(c,{verticalInner:f(()=>c.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:f(()=>c.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),i.vertical.percentage=f(()=>{const p=i.vertical.size.value-c.vertical.value;if(p<=0)return 0;const V=ke(i.vertical.position.value/p,0,1);return Math.round(V*1e4)/1e4}),i.vertical.thumbHidden=f(()=>(e.visible===null?a.value:e.visible)!==!0&&s.value===!1&&l.value===!1||i.vertical.size.value<=c.vertical.value+1),i.vertical.thumbStart=f(()=>e.verticalOffset[0]+i.vertical.percentage.value*(c.verticalInner.value-i.vertical.thumbSize.value)),i.vertical.thumbSize=f(()=>Math.round(ke(c.verticalInner.value*c.verticalInner.value/i.vertical.size.value,ul(c.verticalInner.value),c.verticalInner.value))),i.vertical.style=f(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${i.vertical.thumbStart.value}px`,height:`${i.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),i.vertical.thumbClass=f(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(i.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),i.vertical.barClass=f(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(i.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),i.horizontal.percentage=f(()=>{const p=i.horizontal.size.value-c.horizontal.value;if(p<=0)return 0;const V=ke(Math.abs(i.horizontal.position.value)/p,0,1);return Math.round(V*1e4)/1e4}),i.horizontal.thumbHidden=f(()=>(e.visible===null?a.value:e.visible)!==!0&&s.value===!1&&l.value===!1||i.horizontal.size.value<=c.horizontal.value+1),i.horizontal.thumbStart=f(()=>e.horizontalOffset[0]+i.horizontal.percentage.value*(c.horizontalInner.value-i.horizontal.thumbSize.value)),i.horizontal.thumbSize=f(()=>Math.round(ke(c.horizontalInner.value*c.horizontalInner.value/i.horizontal.size.value,ul(c.horizontalInner.value),c.horizontalInner.value))),i.horizontal.style=f(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${i.horizontal.thumbStart.value}px`,width:`${i.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),i.horizontal.thumbClass=f(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(i.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),i.horizontal.barClass=f(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(i.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const w=f(()=>i.vertical.thumbHidden.value===!0&&i.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function D(){const p={};return nl.forEach(V=>{const B=i[V];Object.assign(p,{[V+"Position"]:B.position.value,[V+"Percentage"]:B.percentage.value,[V+"Size"]:B.size.value,[V+"ContainerSize"]:c[V].value,[V+"ContainerInnerSize"]:c[V+"Inner"].value})}),p}const _=pl(()=>{const p=D();p.ref=v,o("scroll",p)},0);function T(p,V,B){if(nl.includes(p)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(p==="vertical"?Wt:mt)(d.value,V,B)}function x({height:p,width:V}){let B=!1;c.vertical.value!==p&&(c.vertical.value=p,B=!0),c.horizontal.value!==V&&(c.horizontal.value=V,B=!0),B===!0&&R()}function A({position:p}){let V=!1;i.vertical.position.value!==p.top&&(i.vertical.position.value=p.top,V=!0),i.horizontal.position.value!==p.left&&(i.horizontal.position.value=p.left,V=!0),V===!0&&R()}function k({height:p,width:V}){i.horizontal.size.value!==V&&(i.horizontal.size.value=V,R()),i.vertical.size.value!==p&&(i.vertical.size.value=p,R())}function j(p,V){const B=i[V];if(p.isFirst===!0){if(B.thumbHidden.value===!0)return;m=B.position.value,l.value=!0}else if(l.value!==!0)return;p.isFinal===!0&&(l.value=!1);const se=pt[V],ne=(B.size.value-c[V].value)/(c[V+"Inner"].value-B.thumbSize.value),J=p.distance[se.dist],ve=m+(p.direction===se.dir?1:-1)*J*ne;ae(ve,V)}function F(p,V){const B=i[V];if(B.thumbHidden.value!==!0){const se=V==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],ne=p[pt[V].offset]-se,J=B.thumbStart.value-se;if(ne<J||ne>J+B.thumbSize.value){const ve=ne-B.thumbSize.value/2,r=ke(ve/(c[V+"Inner"].value-B.thumbSize.value),0,1);ae(r*Math.max(0,B.size.value-c[V].value),V)}B.ref.value!==null&&B.ref.value.dispatchEvent(new MouseEvent(p.type,p))}}function R(){s.value=!0,u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,s.value=!1},e.delay),e.onScroll!==void 0&&_()}function ae(p,V){d.value[pt[V].scroll]=p}let K=null;function Y(){K!==null&&clearTimeout(K),K=setTimeout(()=>{K=null,a.value=!0},v.$q.platform.is.ios?50:0)}function re(){K!==null&&(clearTimeout(K),K=null),a.value=!1}let U=null;H(()=>v.$q.lang.rtl,p=>{d.value!==null&&mt(d.value,Math.abs(i.horizontal.position.value)*(p===!0?-1:1))}),zl(()=>{U={top:i.vertical.position.value,left:i.horizontal.position.value}}),Cl(()=>{if(U===null)return;const p=d.value;p!==null&&(mt(p,U.left),Wt(p,U.top))}),Ve(_.cancel),Object.assign(v,{getScrollTarget:()=>d.value,getScroll:D,getScrollPosition:()=>({top:i.vertical.position.value,left:i.horizontal.position.value}),getScrollPercentage:()=>({top:i.vertical.percentage.value,left:i.horizontal.percentage.value}),setScrollPosition:T,setScrollPercentage(p,V,B){T(p,V*(i[p].size.value-c[p].value)*(p==="horizontal"&&v.$q.lang.rtl===!0?-1:1),B)}});const oe={scroll:i,thumbVertDir:[[Ue,p=>{j(p,"vertical")},void 0,{vertical:!0,...il}]],thumbHorizDir:[[Ue,p=>{j(p,"horizontal")},void 0,{horizontal:!0,...il}]],onVerticalMousedown(p){F(p,"vertical")},onHorizontalMousedown(p){F(p,"horizontal")}};return()=>q("div",{class:b.value,onMouseenter:Y,onMouseleave:re},[q("div",{ref:d,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[q("div",{class:"q-scrollarea__content absolute",style:w.value},Vt(n.default,[q(Ye,{debounce:0,onResize:k})])),q(xl,{axis:"both",onScroll:A})]),q(Ye,{debounce:0,onResize:x}),q(Wa,{store:oe,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),rl=150,Za=ce({name:"QDrawer",inheritAttrs:!1,props:{...bl,...ut,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...hl,"onLayout","miniState"],setup(e,{slots:n,emit:o,attrs:s}){const l=we(),{proxy:{$q:a}}=l,c=rt(e,a),{preventBodyScroll:i}=Ca(),{registerTimeout:v,removeTimeout:g}=yl(),u=kt(it,xe);if(u===xe)return console.error("QDrawer needs to be child of QLayout"),xe;let m,d=null,b;const w=O(e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint),D=f(()=>e.mini===!0&&w.value!==!0),_=f(()=>D.value===!0?e.miniWidth:e.width),T=O(e.showIfAbove===!0&&w.value===!1?!0:e.modelValue===!0),x=f(()=>e.persistent!==!0&&(w.value===!0||ve.value===!0));function A(h,I){if(R(),h!==!1&&u.animate(),G(0),w.value===!0){const de=u.instances[B.value];de?.belowBreakpoint===!0&&de.hide(!1),me(1),u.isContainer.value!==!0&&i(!0)}else me(0),h!==!1&&ye(!1);v(()=>{h!==!1&&ye(!0),I!==!0&&o("show",h)},rl)}function k(h,I){ae(),h!==!1&&u.animate(),me(0),G(re.value*_.value),Te(),I!==!0?v(()=>{o("hide",h)},rl):g()}const{show:j,hide:F}=Sl({showing:T,hideOnRouteChange:x,handleShow:A,handleHide:k}),{addToHistory:R,removeFromHistory:ae}=za(T,F,x),K={belowBreakpoint:w,hide:F},Y=f(()=>e.side==="right"),re=f(()=>(a.lang.rtl===!0?-1:1)*(Y.value===!0?1:-1)),U=O(0),oe=O(!1),p=O(!1),V=O(_.value*re.value),B=f(()=>Y.value===!0?"left":"right"),se=f(()=>T.value===!0&&w.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:_.value:0),ne=f(()=>e.overlay===!0||e.miniToOverlay===!0||u.view.value.indexOf(Y.value?"R":"L")!==-1||a.platform.is.ios===!0&&u.isContainer.value===!0),J=f(()=>e.overlay===!1&&T.value===!0&&w.value===!1),ve=f(()=>e.overlay===!0&&T.value===!0&&w.value===!1),r=f(()=>"fullscreen q-drawer__backdrop"+(T.value===!1&&oe.value===!1?" hidden":"")),S=f(()=>({backgroundColor:`rgba(0,0,0,${U.value*.4})`})),M=f(()=>Y.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),$=f(()=>Y.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),W=f(()=>{const h={};return u.header.space===!0&&M.value===!1&&(ne.value===!0?h.top=`${u.header.offset}px`:u.header.space===!0&&(h.top=`${u.header.size}px`)),u.footer.space===!0&&$.value===!1&&(ne.value===!0?h.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(h.bottom=`${u.footer.size}px`)),h}),P=f(()=>{const h={width:`${_.value}px`,transform:`translateX(${V.value}px)`};return w.value===!0?h:Object.assign(h,W.value)}),E=f(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),X=f(()=>`q-drawer q-drawer--${e.side}`+(p.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(c.value===!0?" q-drawer--dark q-dark":"")+(oe.value===!0?" no-transition":T.value===!0?"":" q-layout--prevent-focus")+(w.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${D.value===!0?"mini":"standard"}`+(ne.value===!0||J.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(M.value===!0?" q-drawer--top-padding":""))),y=f(()=>{const h=a.lang.rtl===!0?e.side:B.value;return[[Ue,Me,void 0,{[h]:!0,mouse:!0}]]}),ee=f(()=>{const h=a.lang.rtl===!0?B.value:e.side;return[[Ue,Oe,void 0,{[h]:!0,mouse:!0}]]}),he=f(()=>{const h=a.lang.rtl===!0?B.value:e.side;return[[Ue,Oe,void 0,{[h]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){ge(w,e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint)}H(w,h=>{h===!0?(m=T.value,T.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&m!==!1&&(T.value===!0?(G(0),me(0),Te()):j(!1))}),H(()=>e.side,(h,I)=>{u.instances[I]===K&&(u.instances[I]=void 0,u[I].space=!1,u[I].offset=0),u.instances[h]=K,u[h].size=_.value,u[h].space=J.value,u[h].offset=se.value}),H(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),H(()=>e.behavior+e.breakpoint,pe),H(u.isContainer,h=>{T.value===!0&&i(h!==!0),h===!0&&pe()}),H(u.scrollbarWidth,()=>{G(T.value===!0?0:void 0)}),H(se,h=>{fe("offset",h)}),H(J,h=>{o("onLayout",h),fe("space",h)}),H(Y,()=>{G()}),H(_,h=>{G(),ie(e.miniToOverlay,h)}),H(()=>e.miniToOverlay,h=>{ie(h,_.value)}),H(()=>a.lang.rtl,()=>{G()}),H(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ze(),u.animate())}),H(D,h=>{o("miniState",h)});function G(h){h===void 0?be(()=>{h=T.value===!0?0:_.value,G(re.value*h)}):(u.isContainer.value===!0&&Y.value===!0&&(w.value===!0||Math.abs(h)===_.value)&&(h+=re.value*u.scrollbarWidth.value),V.value=h)}function me(h){U.value=h}function ye(h){const I=h===!0?"remove":u.isContainer.value!==!0?"add":"";I!==""&&document.body.classList[I]("q-body--drawer-toggle")}function ze(){d!==null&&clearTimeout(d),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),p.value=!0,d=setTimeout(()=>{d=null,p.value=!1,l?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Me(h){if(T.value!==!1)return;const I=_.value,de=ke(h.distance.x,0,I);if(h.isFinal===!0){de>=Math.min(75,I)===!0?j():(u.animate(),me(0),G(re.value*I)),oe.value=!1;return}G((a.lang.rtl===!0?Y.value!==!0:Y.value)?Math.max(I-de,0):Math.min(0,de-I)),me(ke(de/I,0,1)),h.isFirst===!0&&(oe.value=!0)}function Oe(h){if(T.value!==!0)return;const I=_.value,de=h.direction===e.side,Ae=(a.lang.rtl===!0?de!==!0:de)?ke(h.distance.x,0,I):0;if(h.isFinal===!0){Math.abs(Ae)<Math.min(75,I)===!0?(u.animate(),me(1),G(0)):F(),oe.value=!1;return}G(re.value*Ae),me(ke(1-Ae/I,0,1)),h.isFirst===!0&&(oe.value=!0)}function Te(){i(!1),ye(!0)}function fe(h,I){u.update(e.side,h,I)}function ge(h,I){h.value!==I&&(h.value=I)}function ie(h,I){fe("size",h===!0?e.miniWidth:I)}return u.instances[e.side]=K,ie(e.miniToOverlay,_.value),fe("space",J.value),fe("offset",se.value),e.showIfAbove===!0&&e.modelValue!==!0&&T.value===!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",!0),Xe(()=>{o("onLayout",J.value),o("miniState",D.value),m=e.showIfAbove===!0;const h=()=>{(T.value===!0?A:k)(!1,!0)};if(u.totalWidth.value!==0){be(h);return}b=H(u.totalWidth,()=>{b(),b=void 0,T.value===!1&&e.showIfAbove===!0&&w.value===!1?j(!1):h()})}),Ve(()=>{b?.(),d!==null&&(clearTimeout(d),d=null),T.value===!0&&Te(),u.instances[e.side]===K&&(u.instances[e.side]=void 0,fe("size",0),fe("offset",0),fe("space",!1))}),()=>{const h=[];w.value===!0&&(e.noSwipeOpen===!1&&h.push(qt(q("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),y.value)),h.push(Ut("div",{ref:"backdrop",class:r.value,style:S.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&T.value===!0,()=>he.value)));const I=D.value===!0&&n.mini!==void 0,de=[q("div",{...s,key:""+I,class:[E.value,s.class]},I===!0?n.mini():Ee(n.default))];return e.elevated===!0&&T.value===!0&&de.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),h.push(Ut("aside",{ref:"content",class:X.value,style:P.value},de,"contentclose",e.noSwipeClose!==!0&&w.value===!0,()=>ee.value)),q("div",{class:"q-drawer-container"},h)}}}),eo=ce({name:"QPageContainer",setup(e,{slots:n}){const{proxy:{$q:o}}=we(),s=kt(it,xe);if(s===xe)return console.error("QPageContainer needs to be child of QLayout"),xe;at(qa,!0);const l=f(()=>{const a={};return s.header.space===!0&&(a.paddingTop=`${s.header.size}px`),s.right.space===!0&&(a[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${s.right.size}px`),s.footer.space===!0&&(a.paddingBottom=`${s.footer.size}px`),s.left.space===!0&&(a[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${s.left.size}px`),a});return()=>q("div",{class:"q-page-container",style:l.value},Ee(n.default))}}),to=ce({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:n,emit:o}){const{proxy:{$q:s}}=we(),l=O(null),a=O(s.screen.height),c=O(e.container===!0?0:s.screen.width),i=O({position:0,direction:"down",inflectionPoint:0}),v=O(0),g=O(sl.value===!0?0:ht()),u=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),m=f(()=>e.container===!1?{minHeight:s.screen.height+"px"}:null),d=f(()=>g.value!==0?{[s.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),b=f(()=>g.value!==0?{[s.lang.rtl===!0?"right":"left"]:0,[s.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function w(k){if(e.container===!0||document.qScrollPrevented!==!0){const j={position:k.position.top,direction:k.direction,directionChanged:k.directionChanged,inflectionPoint:k.inflectionPoint.top,delta:k.delta.top};i.value=j,e.onScroll!==void 0&&o("scroll",j)}}function D(k){const{height:j,width:F}=k;let R=!1;a.value!==j&&(R=!0,a.value=j,e.onScrollHeight!==void 0&&o("scrollHeight",j),T()),c.value!==F&&(R=!0,c.value=F),R===!0&&e.onResize!==void 0&&o("resize",k)}function _({height:k}){v.value!==k&&(v.value=k,T())}function T(){if(e.container===!0){const k=a.value>v.value?ht():0;g.value!==k&&(g.value=k)}}let x=null;const A={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:l,height:a,containerHeight:v,scrollbarWidth:g,totalWidth:f(()=>c.value+g.value),rows:f(()=>{const k=e.view.toLowerCase().split(" ");return{top:k[0].split(""),middle:k[1].split(""),bottom:k[2].split("")}}),header:tt({size:0,offset:0,space:!1}),right:tt({size:300,offset:0,space:!1}),footer:tt({size:0,offset:0,space:!1}),left:tt({size:300,offset:0,space:!1}),scroll:i,animate(){x!==null?clearTimeout(x):document.body.classList.add("q-body--layout-animate"),x=setTimeout(()=>{x=null,document.body.classList.remove("q-body--layout-animate")},155)},update(k,j,F){A[k][j]=F}};if(at(it,A),ht()>0){let k=function(){R=null,ae.classList.remove("hide-scrollbar")},j=function(){if(R===null){if(ae.scrollHeight>s.screen.height)return;ae.classList.add("hide-scrollbar")}else clearTimeout(R);R=setTimeout(k,300)},F=function(K){R!==null&&K==="remove"&&(clearTimeout(R),k()),window[`${K}EventListener`]("resize",j)},R=null;const ae=document.body;H(()=>e.container!==!0?"add":"remove",F),e.container!==!0&&F("add"),ka(()=>{F("remove")})}return()=>{const k=Vt(n.default,[q(xl,{onScroll:w}),q(Ye,{onResize:D})]),j=q("div",{class:u.value,style:m.value,ref:e.container===!0?void 0:l,tabindex:-1},k);return e.container===!0?q("div",{class:"q-layout-container overflow-hidden",ref:l},[q(Ye,{onResize:_}),q("div",{class:"absolute-full",style:d.value},[q("div",{class:"scroll",style:b.value},[j])])]):j}}}),lo={class:"q-pa-md"},no=xa({__name:"MainLayout",setup(e){const n=O(!0),o=O(localStorage.getItem("gemini-api-key")||""),s=O(localStorage.getItem("gemini-selected-model")||"gemini-2.0-flash"),l=Yl(),a=[{label:"Gemini 1.5 Flash",value:"gemini-1.5-flash"},{label:"Gemini 1.5 Pro",value:"gemini-1.5-pro"},{label:"Gemini 1.0 Pro",value:"gemini-1.0-pro"},{label:"Gemini 2.0 Flash",value:"gemini-2.0-flash"}],c=()=>{n.value=!n.value};H(o,m=>{m?localStorage.setItem("gemini-api-key",m):localStorage.removeItem("gemini-api-key")}),H(s,m=>{localStorage.setItem("gemini-selected-model",m)});const i=()=>{try{const m=localStorage.getItem("ai-project-tree");if(!m){l.notify({type:"warning",message:"No project to export",caption:"Create a project first before exporting",icon:"warning",position:"top",timeout:3e3});return}const d=JSON.parse(m),b={...d,exportedAt:new Date().toISOString(),exportedBy:"AI Project Task Generator",version:"1.0.0",metadata:{totalNodes:v(d),nodeTypes:g(d),exportType:"full_project"}},w=JSON.stringify(b,null,2),D=new Blob([w],{type:"application/json"}),_=URL.createObjectURL(D),T=document.createElement("a");T.href=_,T.download=`ai_project_${d.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(_),l.notify({type:"positive",message:"Project exported successfully",caption:`Exported ${b.metadata.totalNodes} nodes`,icon:"download",position:"top",timeout:3e3})}catch(m){console.error("Export error:",m),l.notify({type:"negative",message:"Failed to export project",caption:m instanceof Error?m.message:"Unknown error",icon:"error",position:"top",timeout:5e3})}},v=m=>{let d=1;if(m.children&&Array.isArray(m.children))for(const b of m.children)d+=v(b);return d},g=m=>{const d=new Set([m.type]);if(m.children&&Array.isArray(m.children))for(const b of m.children)g(b).forEach(w=>d.add(w));return Array.from(d)},u=()=>{l.dialog({title:"Clear All Data",message:`Are you sure you want to clear all project data?

This will delete the entire project tree and cannot be undone.`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Clear All",color:"negative",flat:!0},persistent:!0}).onOk(()=>{window.dispatchEvent(new CustomEvent("clearAllCells")),l.dialog({title:"Clear API Configuration",message:"Do you also want to clear your saved API key and model selection?",cancel:{label:"Keep Settings",color:"grey",flat:!0},ok:{label:"Clear Settings",color:"negative",flat:!0}}).onOk(()=>{o.value="",s.value="gemini-2.0-flash",localStorage.removeItem("gemini-api-key"),localStorage.removeItem("gemini-selected-model")})})};return at("apiKey",o),at("selectedModel",s),(m,d)=>{const b=Va("router-view");return Yt(),Xt(to,{view:"lHh Lpr lFf"},{default:te(()=>[le(Ma,{elevated:"",class:"bg-primary text-white"},{default:te(()=>[le(Ba,null,{default:te(()=>[le(gt,{flat:"",dense:"",round:"",icon:"menu",class:"q-mr-sm",onClick:c},{default:te(()=>[le(je,null,{default:te(()=>[...d[3]||(d[3]=[De("Toggle Sidebar",-1)])]),_:1})]),_:1}),le(_a,null,{default:te(()=>[...d[4]||(d[4]=[De(" TaskForge AI ",-1)])]),_:1})]),_:1})]),_:1}),le(Za,{modelValue:n.value,"onUpdate:modelValue":d[2]||(d[2]=w=>n.value=w),"show-if-above":"",bordered:"",class:"bg-grey-1"},{default:te(()=>[le(Ja,{class:"fit"},{default:te(()=>[bt("div",lo,[d[9]||(d[9]=bt("div",{class:"text-h6 q-mb-md"},"Configuration",-1)),le(Oa,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=w=>o.value=w),label:"Gemini API Key",type:"password",filled:"",class:"q-mb-md",hint:"Enter your Google AI Studio API key"},{append:te(()=>[o.value?(Yt(),Xt(Ct,{key:0,name:"check_circle",color:"positive",size:"sm"},{default:te(()=>[le(je,null,{default:te(()=>[...d[5]||(d[5]=[De("API Key Saved",-1)])]),_:1})]),_:1})):Ta("",!0)]),_:1},8,["modelValue"]),le(Ka,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=w=>s.value=w),options:a,label:"Model",filled:"",class:"q-mb-md","emit-value":"","map-options":""},{append:te(()=>[le(Ct,{name:"check_circle",color:"positive",size:"sm"},{default:te(()=>[le(je,null,{default:te(()=>[...d[6]||(d[6]=[De("Model Selection Saved",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),le(Aa,{class:"q-my-md"}),d[10]||(d[10]=bt("div",{class:"text-subtitle2 q-mb-sm"},"Notebook Actions",-1)),le(gt,{color:"primary",label:"Export Project",icon:"download",class:"full-width q-mb-sm",onClick:i},{default:te(()=>[le(je,null,{default:te(()=>[...d[7]||(d[7]=[De("Export Entire Project as JSON",-1)])]),_:1})]),_:1}),le(gt,{color:"secondary",label:"Clear All",icon:"clear_all",class:"full-width",onClick:u},{default:te(()=>[le(je,null,{default:te(()=>[...d[8]||(d[8]=[De("Clear All Project Data",-1)])]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"]),le(eo,null,{default:te(()=>[le(b)]),_:1})]),_:1})}}});export{no as default};
